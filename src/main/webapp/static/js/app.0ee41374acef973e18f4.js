webpackJsonp([1,0],[function(t,e,s){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var a=s(21),o=n(a),r=s(14),i=n(r);s(8);var d=s(20),c=n(d);o.default.use(c.default),new o.default({el:"#app",template:"<App/>",components:{App:i.default}})},,function(t,e,s){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=s(15),o=n(a),r=s(16),i=n(r);e.default={name:"app",components:{board:o.default,project:i.default},data:function(){return{showid:""}},methods:{showNewProject:function(t){this.showid=t}}}},function(t,e,s){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=s(5),o=n(a),r=s(22),i=n(r);e.default={name:"board",components:{draggable:i.default},data:function(){return{board:{},projectname:"",loading:!1,refreshing:!1,updating:!1}},mounted:function(){this.getData()},methods:{getData:function(){var t=this,e="./";this.loading=!0;var s=e+"board",n=this.$resource(s),a=this;n.get().then(function(e){console.log(e.data.content.stages),a.$set(t.board,"boardid",e.data.content.bordid),a.$set(t.board,"boardname",e.data.content.boardname),a.$set(t.board,"stages",e.data.content.stages),t.loading=!1}).catch(function(t){console.log("there are something wrong!!!"),console.log(t),this.loading=!1})},refreshBoardAndProject:function(){var t=this,e="./";this.refreshing=!0;var s=e+"refreshBoardAndProject",n=this.$resource(s),a=this;n.get().then(function(e){console.log(e.data.content.stages),a.$set(t.board,"boardid",e.data.content.bordid),a.$set(t.board,"boardname",e.data.content.boardname),a.$set(t.board,"stages",e.data.content.stages),t.refreshing=!1}).catch(function(t){console.log("there are something wrong!!!"),console.log(t),this.refreshing=!1})},updateData:function(t,e){var s=this,n="./";this.updating=!0;var a=n+"stage",o=this.$resource(a);o.update({id:t},e).then(function(t){console.log(response),s.updating=!1}).catch(function(t){console.log("there are something wrong!!!"),console.log(t),this.updating=!1})},addDrag:function(t){for(var e=t.to.id,s=0;s<this.board.stages.length;s++)if(this.board.stages[s].stageid==e){this.updateData(e,this.board.stages[s].projects);break}},endDrag:function(t){for(var e=t.from.id,s=0;s<this.board.stages.length;s++)if(this.board.stages[s].stageid==e){this.updateData(e,this.board.stages[s].projects),console.log(e+":"+(0,o.default)(this.board.stages[s].projects)),console.log(t);break}},selectProject:function(t){this.$emit("selectedProjectid",t)}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"project",props:["showid"],data:function(){return{projectid:"",projectname:"",description:"",tasks:[],taskid:"",showPerson:!1,loading:!1,refreshing:!1}},watch:{showid:function(){this.getData(this.showid)}},methods:{getData:function(t){var e=this,s="./";this.loading=!0;var n=s+"project";console.log("apiurl"),console.log(n);var a=this.$resource(n);a.get({id:t}).then(function(t){e.projectid=t.data.content.projectid,e.projectname=t.data.content.projectname,e.description=t.data.content.description,e.tasks=t.data.content.tasks,e.loading=!1}).catch(function(t){console.log("there are something wrong!!!"),console.log(t),this.loading=!1})},collapseTaskdetail:function(t){var e=document.getElementById(t);"none"==e.style.display?e.style.display="block":e.style.display="none"},refreshProjectAndTask:function(){var t=this,e="./";this.refreshing=!0;var s=e+"refreshProjectAndTask",n=this.$resource(s),a=this;n.get({id:a.showid}).then(function(e){t.projectid=e.data.content.projectid,t.projectname=e.data.content.projectname,t.description=e.data.content.description,t.tasks=e.data.content.tasks,t.refreshing=!1}).catch(function(t){console.log("there are something wrong!!!"),console.log(t),this.refreshing=!1})}}}},,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},,function(t,e,s){t.exports=s.p+"static/img/logo.95abf04.png"},function(t,e,s){s(9);var n=s(1)(s(2),s(17),null,null);t.exports=n.exports},function(t,e,s){s(10);var n=s(1)(s(3),s(18),null,null);t.exports=n.exports},function(t,e,s){s(11);var n=s(1)(s(4),s(19),null,null);t.exports=n.exports},function(t,e,s){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("board",{on:{selectedProjectid:t.showNewProject}}),t._v(" "),s("project",{attrs:{showid:t.showid}}),t._v(" "),t._m(0)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"logo"},[n("img",{attrs:{src:s(13)}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"panel panel-primary"},[s("div",{staticClass:"panel-heading"},[s("table",{attrs:{width:"100%"}},[s("tr",[s("td",[s("h2",{staticClass:"panel-title"},[t._v(t._s(t.board.boardname))])]),t._v(" "),s("td",{attrs:{width:"10%",align:"center"}},[s("small",{on:{click:t.refreshBoardAndProject}},[t._v("刷新")])]),t._v(" "),s("td",{attrs:{width:"30%",align:"center"}},[s("small",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}]},[t._v("读取中....")]),t._v(" "),s("small",{directives:[{name:"show",rawName:"v-show",value:t.refreshing,expression:"refreshing"}]},[t._v("刷新中....")]),t._v(" "),s("small",{directives:[{name:"show",rawName:"v-show",value:t.updating,expression:"updating"}]},[t._v("更新中....")])])])])]),t._v(" "),s("div",{staticClass:"panel-body"},t._l(t.board.stages,function(e){return s("div",{staticClass:"col-md-2"},[s("p",[t._v(t._s(e.stagename))]),t._v(" "),s("draggable",{staticClass:"list-group",attrs:{element:"ul",id:e.stageid,options:{group:"projects"}},on:{add:t.addDrag,end:t.endDrag},model:{value:e.projects,callback:function(t){e.projects=t},expression:"stage.projects"}},t._l(e.projects,function(e){return s("li",{staticClass:"list-group-item",attrs:{id:e.projectid},on:{click:function(s){t.selectProject(e.projectid)}}},[t._v(" \n            "+t._s(e.projectname)+"\n          ")])}))],1)}))])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"panel panel-primary"},[s("div",{staticClass:"panel-heading"},[s("table",{attrs:{width:"100%"}},[s("tr",[s("td",[s("h2",{staticClass:"panel-title"},[t._v(t._s(t.projectname)+":")])]),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.showid,expression:"showid"}],staticClass:"form-control",attrs:{type:"text",readonly:"true"},domProps:{value:t.showid},on:{input:function(e){e.target.composing||(t.showid=e.target.value)}}})]),t._v(" "),s("td",{attrs:{width:"10%",align:"center"}},[s("small",{on:{click:t.refreshProjectAndTask}},[t._v("刷新")])]),t._v(" "),s("td",{attrs:{width:"30%",align:"center"}},[s("small",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}]},[t._v("读取中....")]),t._v(" "),s("small",{directives:[{name:"show",rawName:"v-show",value:t.refreshing,expression:"refreshing"}]},[t._v("刷新中....")])]),t._v(" "),s("td",{attrs:{aligh:"right"}},[s("small",{on:{click:function(e){t.showPerson=!t.showPerson}}},[t._v("显示参与人")])])])])]),t._v(" "),s("p"),t._v(" "),s("div",{staticClass:"row"},t._l(t.tasks,function(e){return s("div",{staticClass:"col-md-2"},[s("div",{staticClass:"panel panel-info"},[s("div",{staticClass:"panel-heading"},[s("table",{attrs:{width:"100%"}},[s("tr",[s("td",[s("span",{on:{click:function(s){t.collapseTaskdetail(e.taskid)}}},[t._v("V ")])]),t._v(" "),s("td",[s("h5",{staticClass:"panel-title"},[s("span",[t._v(t._s(e.subject))])])])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showPerson,expression:"showPerson"}]},[s("div",[t._v("\n                执行人：\n                "),t._l(e.actors,function(e){return s("span",[t._v(t._s(e)+", ")])})],2),t._v(" "),s("div",[t._v("\n                知会人：\n                "),t._l(e.others,function(e){return s("span",[t._v(t._s(e)+", ")])})],2)])]),t._v(" "),s("div",{staticClass:"panel-body",attrs:{id:e.taskid}},t._l(e.taskDetail,function(e){return s("li",[s("strong",[t._v(t._s(e.person))]),t._v("  "),s("small",[t._v(t._s(e.dateAndTime))]),t._v(" "),s("div",{domProps:{innerHTML:t._s(e.done)}}),s("br")])}))])])}))])])},staticRenderFns:[]}},,,,function(t,e){}]);
//# sourceMappingURL=app.0ee41374acef973e18f4.js.map